{% extends "base.html" %}

{% block title %}访问被拒绝 - 文件分享系统{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card text-center">
            <div class="card-body py-5">
                <div class="mb-4">
                    <i class="fas fa-shield-alt fa-5x text-danger"></i>
                </div>
                <h1 class="display-4 text-muted">403</h1>
                <h2 class="mb-4">访问被拒绝</h2>
                <p class="lead text-muted mb-4">
                    您没有权限访问此页面或资源。
                </p>
                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
    <a href="{{ url_for('main.index') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-home me-2"></i>返回首页
                    </a>
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('auth.login') }}" class="btn btn-outline-secondary btn-lg">
                            <i class="fas fa-sign-in-alt me-2"></i>登录
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-question-circle me-2"></i>为什么会出现这个错误？
                </h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <i class="fas fa-lock text-danger me-2"></i>
                        <strong>需要登录：</strong>此资源仅对登录用户开放
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-user-shield text-warning me-2"></i>
                        <strong>权限不足：</strong>您的账号没有访问此资源的权限
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-users text-info me-2"></i>
                        <strong>指定用户：</strong>此资源仅对特定用户开放
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-clock text-secondary me-2"></i>
                        <strong>资源过期：</strong>您尝试访问的资源已过期
                    </li>
                </ul>
            </div>
        </div>

        {% if current_user.is_authenticated %}
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-user me-2"></i>您的账户信息
                </h5>
            </div>
            <div class="card-body">
                <div class="row text-start">
                    <div class="col-md-6">
                        <p class="mb-1"><strong>用户名：</strong>{{ current_user.username }}</p>
                        <p class="mb-1"><strong>昵称：</strong>{{ current_user.nickname or '未设置' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p class="mb-1"><strong>角色：</strong>
                            {% if current_user.role == 'admin' %}
                                <span class="badge bg-danger">管理员</span>
                            {% else %}
                                <span class="badge bg-primary">普通用户</span>
                            {% endif %}
                        </p>
                        <p class="mb-1"><strong>注册时间：</strong>{{ current_user.created_at.strftime('%Y-%m-%d') }}</p>
                    </div>
                </div>
                <div class="mt-3">
                    <a href="{{ url_for('profile') }}" class="btn btn-outline-primary">
                        <i class="fas fa-user-edit me-2"></i>修改个人资料
                    </a>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
